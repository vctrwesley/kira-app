<div class="overlay-loader" [class.fade-out]="!loading">
  <img src="assets/icones/logo-kira-branca.svg" class="logo-loading" />
  <h2>As melhores escolhas você faz conosco</h2>
  <!-- <div class="spinner"></div> -->
</div>

<main [class.fade-in]="!loading" [class.invisible]="loading">
  <div class="login-container">
    <div class="login-form">
      <img src="assets/icones/logo-kira-roxa.svg" alt="Logomarca" class="logo-kira" />
      <h2>Bem-vindo(a) de volta!</h2>
      <div class="body-login">
        
        <form class="container-input" (ngSubmit)="onSubmit()">
          <div class="feedback-container">
            <div class="alert-success" *ngIf="mensagemSucesso">
              {{ mensagemSucesso }}
            </div>

            <div class="alert-danger" *ngFor="let erro of errors">
                {{ erro }}
            </div>
          </div>

          <div class="form-group container-input">
            <label class="small mb-1">E-mail</label>
            <div class="input-group">
              <input 
                type="email" 
                name="email" 
                autocomplete="off" 
                class="form-control input-login"
                placeholder="Informe o seu e-mail" 
                [(ngModel)]="email" 
                required 
              />
            </div>
          </div>

          <div class="form-group container-input">
            <label class="small mb-1">Senha</label>
            <div class="input-group">
              <input 
              [type]="passwordVisible['password'] ? 'text' : 'password'"
                name="password" 
                class="form-control py-2 responsive-input"
                placeholder="Informe a sua senha" 
                [(ngModel)]="password" 
                required 
              />
              <div class="input-icon" type="button" (click)="togglePasswordVisibility('password')">
                <img *ngIf="!passwordVisible['password']" src="assets/icones/eye-open.svg" alt="Mostrar senha" class="toggle-password"/>
                <img *ngIf="passwordVisible['password']" src="assets/icones/eye-closed.svg" alt="Mostrar senha" class="toggle-password"/>
              </div>
            </div>
          </div>

          <div class="recuperacao-senha">
            <a routerLink="/recuperacao-de-senha">Esqueceu sua senha?</a>
          </div>

            <button class="btn-login" type="submit">Entrar</button>
        </form>
      </div>

      <div class="footer-login">
        <div class="divider-container">
          <hr>
          <span class="divider-text">ou</span>
          <hr>
        </div>

        <p>Não tem uma conta? <a routerLink="/cadastro">Cadastre-se agora!</a></p>
      </div>
    </div>
    <div class="login-image">
      <img src="assets/imagens/img-login.jpg" alt="Login Image" />
    </div>
  </div>
</main>